<!DOCTYPE html><html><head><title>Untitled</title></head><body><pre>
;*****************************
;* S/geoCBTGfx
;* (c) 2020 Bo Zimmerman
;*
;* Color and PETSCII tables, 
;*   .. some special code handling
;*****************************
.noeqin
.include	GEOSequates
.glbl
.eqin

.psect


GOA2PET:
;;;;;;    0   1   2   3   4   5   6   7   8   9   A   B   C   D   E   F
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,$9D,0  ,0   ,0  ,0  ,$0D ,0  ,0
.byte    $91,$11 ,$13,$93 ,0  ,0  ,0   ,0  ,0   ,0  ,0   ,0 ,$94,$14  ,$1D,0
.byte    $20,$21,$22,$23  ,$24,$25,$26 ,$27,$28 ,$29,$2A ,$2B,$2C,$2D ,$2E,$2F
.byte    $30,$31,$32,$33  ,$34,$35,$36 ,$37,$38 ,$39,$3A ,$3B,$3C,$3D ,$3E,$3F
.byte    $40,$C1,$C2,$C3 ,$C4,$C5,$C6 ,$C7,$C8,$C9,$CA ,$CB,$CC,$CD,$CE,$CF
.byte    $D0,$D1,$D2,$D3 ,$D4,$D5,$D6 ,$D7,$D8,$D9,$DA ,$5B,$5C,$5D ,$5E,$5F
.byte    $60,$41,$42,$43 ,$44,$45,$46 ,$47,$48,$49,$4A ,$4B,$4C,$4D,$4E,$4F
.byte    $50,$51,$52,$53  ,$54,$55,$56 ,$57,$58,$59 ,$5A ,0  ,0  ,0   ,0  ,0
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,0  ,0   ,0   ,0  ,0  ,0   ,0  ,0
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,0  ,0   ,0   ,0  ,0  ,0   ,0  ,0
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,0  ,0   ,0   ,0  ,0  ,0   ,0  ,0
.byte    0  ,$81,$95,$96 ,$97,$98,$99,$9A,$9B,0   ,0   ,0  ,0  ,0   ,0  ,0
.byte    0  ,$B0,$BF,$BC,$AC,$B1,$BB ,$A5,$B4,$A2,$B5 ,$A1,$B6,$A7 ,$AA,$B9
.byte    $AF,$A8,$B2,$AE,$A3,$B8,$BE ,$B3,$BD,$B7,$AD ,0  ,0  ,0   ,0  ,0
.byte    0  ,$B0,$BF,$BC,$AC,$B1,$BB ,$A5,$B4,$A2,$B5 ,$A1,$B6,$A7 ,$AA,$B9
.byte    $AF,$A8,$B2,$AE,$A3,$B8,$BE ,$B3,$BD,$B7,$AD ,0  ,0  ,0   ,0  ,0

CTL2PET:
;;;;;;    0   1   2   3   4   5   6   7   8   9   A   B   C   D   E   F
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,$9D,0  ,0   ,0  ,0  ,$0D ,0  ,0
.byte    $91,$11 ,$13,$93 ,0  ,0  ,0   ,0  ,0   ,0  ,0   ,0 ,$94,$14  ,$1D,0
.byte    $20,$21,$22,$23  ,$24,$25,$26 ,$27,$28 ,$29,$2A ,$2B,$2C,$2D ,$2E,$2F
.byte    $92,$90,$05,$1C ,$9F,$9C,$1E ,$1F,$9E ,$12,$3A  ,$3B,$3C,$3D ,$3E,$3F
.byte    $40,$01,$02,$03 ,$04,$05,$06 ,$07,$08,$09,$0A ,$0B,$0C,$0D,$0E,$0F
.byte    $10,$11,$12,$13   ,$14,$15,$16  ,$17,$18,$19,$1A ,$5B,$5C,$5D ,$5E,$5F
.byte    $60,$41,$42,$43 ,$44,$45,$46 ,$47,$48,$49,$4A ,$4B,$4C,$4D,$4E,$4F
.byte    $50,$51,$52,$53  ,$54,$55,$56 ,$57,$58,$59 ,$5A ,0  ,0  ,0   ,0  ,0


G = $80
LP2FONT:
;** ignore first 32
;;;;;;    0   1   2   3   4   5   6   7   8   9   A   B   C   D   E   F
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,0   ,0  ,0   ,0  ,0  ,0   ,0  ,0
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,0   ,0  ,0   ,0  ,0  ,0   ,0  ,0
.byte    $20,$21,$22,$23  ,$24,$25,$26 ,$27,$28 ,$29,$2A ,$2B,$2C,$2D ,$2E,$2F
.byte    $30,$31,$32,$33  ,$34,$35,$36 ,$37,$38 ,$39,$3A ,$3B,$3C,$3D ,$3E,$3F
.byte    $40,$61,$62,$63 ,$64,$65,$66 ,$67,$68,$69,$6A ,$6B,$6C,$6D,$6E,$6F
.byte    $70,$71,$72,$73 ,$74,$75,$76 ,$77,$78,$79,$7A ,$5B,$5C,$5D ,$5E,$5F
.byte    $43|G,$41,$42,$43,$44,$45,$46,$47,$48,$49,$4A ,$4B,$4C,$4D,$4E,$4F
.byte    $50,$51,$52,$53  ,$54,$55,$56 ,$57,$58,$59 ,$5A ,$5B|G,$5C|G,$5D|G,$21|G,$7E|G
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,0   ,0  ,0   ,0  ,0  ,0   ,0  ,0
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,0   ,0  ,0   ,0  ,0  ,0   ,0  ,0
.byte    $20,$60|G,$61|G,$62|G,$63|G,$64|G,$65|G,$66|G,$67|G,$7D|G,$69|G,$6A|G,$6B|G,$6C|G,$6D|G,$6E|G
.byte    $6F|G,$70|G,$71|G,$72|G,$64|G,$73|G,$22|G,$74|G,$75|G,$76|G,$20|G,$78|G,$79|G,$7A|G,$7B|G,$7C|G
.byte    $43|G,$41,$42,$43,$44,$45,$46,$47,$48,$49,$4A ,$4B,$4C,$4D,$4E,$4F
.byte    $50,$51,$52,$53  ,$54,$55,$56 ,$57,$58,$59 ,$5A ,$5B|G,$5C|G,$5D|G,$21|G,$7E|G
.byte    $20,$60|G,$61|G,$62|G,$63|G,$64|G,$65|G,$66|G,$67|G,$7D|G,$69|G,$6A|G,$6B|G,$6C|G,$6D|G,$6E|G
.byte    $6F|G,$70|G,$71|G,$72|G,$64|G,$73|G,$22|G,$74|G,$75|G,$76|G,$20,$79|G,$7A|G,$7B|G,$7C|G,$21|G


UP2FONT:
;** ignore first 32
;;;;;;    0   1   2   3   4   5   6   7   8   9   A   B   C   D   E   F
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,0   ,0  ,0   ,0  ,0  ,0   ,0  ,0
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,0   ,0  ,0   ,0  ,0  ,0   ,0  ,0
.byte    $20,$21,$22,$23  ,$24,$25,$26 ,$27,$28 ,$29,$2A ,$2B,$2C,$2D ,$2E,$2F
.byte    $30,$31,$32,$33  ,$34,$35,$36 ,$37,$38 ,$39,$3A ,$3B,$3C,$3D ,$3E,$3F
.byte    $40,$41,$42,$43 ,$44,$45,$46 ,$47,$48,$49,$4A ,$4B,$4C,$4D,$4E,$4F
.byte    $50,$51,$52,$53  ,$54,$55,$56 ,$57,$58 ,$59,$5A ,$5B,$5C,$5D ,$5E,$5F
.byte    $43|G,$41|G,$42|G,$43|G,$44|G,$45|G,$46|G,$47|G,$48|G,$49|G,$4A|G,$4B|G,$4C|G,$4D|G,$4E|G,$4F|G
.byte    $50|G,$51|G,$52|G,$53|G,$54|G,$55|G,$56|G,$57|G,$58|G,$59|G,$5A|G,$5B|G,$5C|G,$5D|G,$5E|G,$5F|G
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,0   ,0  ,0   ,0  ,0  ,0   ,0  ,0
.byte    0  ,0  ,0  ,0   ,0  ,0  ,0   ,0  ,0   ,0  ,0   ,0  ,0  ,0   ,0  ,0
.byte    $20,$60|G,$61|G,$62|G,$63|G,$64|G,$65|G,$66|G,$67|G,$68|G,$69|G,$6A|G,$6B|G,$6C|G,$6D|G,$6E|G
.byte    $6F|G,$70|G,$71|G,$72|G,$64|G,$73|G,$22|G,$74|G,$75|G,$76|G,$77|G,$78|G,$79|G,$7A|G,$7B|G,$7C|G
.byte    $43|G,$41|G,$42|G,$43|G,$44|G,$45|G,$46|G,$47|G,$48|G,$49|G,$4A|G,$4B|G,$4C|G,$4D|G,$4E|G,$4F|G
.byte    $50|G,$51|G,$52|G,$53|G,$54|G,$55|G,$56|G,$57|G,$58|G,$59|G,$5A|G,$5B|G,$5C|G,$5D|G,$5E|G,$5F|G
.byte    $20,$60|G,$61|G,$62|G,$63|G,$64|G,$65|G,$66|G,$67|G,$68|G,$69|G,$6A|G,$6B|G,$6C|G,$6D|G,$6E|G
.byte    $6F|G,$70|G,$71|G,$72|G,$64|G,$73|G,$22|G,$74|G,$75|G,$76|G,$78|G,$79|G,$7A|G,$7B|G,$7C|G,$5E|G


CNTRLCH1:
.word 0,0,0,0,0,ColorWH,0,0
.word 0,0,0,0,0,FullCRLF,SwitchLC,0
.word 0,FullDn,RevON,FullHome,PutDel,0,0,0
.word 0,0,0,0,ColorRD,FullRt,ColorGN,ColorBL

CNTRLCH2:
.word 0,ColorOR,0,0,0,0,0,0
.word 0,0,0,0,0,FullCRLF,SwitchUC,0
.word ColorBK, FullUp, RevOFF, ClearHome, DrawIns, ColorBN, ColorPI, ColorDG
.word ColorGR, ColorLN, ColorLB, ColorLG, ColorPU, FullLt, ColorYE, ColorCY



FullCRLF:	jsr	DrwCRLF
	jmp	RevOFF

ClearHome:	mvb	R1H,txtXY+2
	mvw	R11,txtXY
	jsr	ClearScn
ClearFin:	jsr	CrsrTL
FullFins:	mvb	txtXY+2,R1H
	mvw	txtXY,R11
	rts

FullHome:	mvb	R1H,txtXY+2
	mvw	R11,txtXY
	jmp	ClearFin

FullUp:	mvb	R1H,txtXY+2
	mvw	R11,txtXY
	jsr	CrsrUp
	jmp	FullFins

FullDn:	jmp	DrawLF

FullRt:	mvb	R1H,txtXY+2
	mvw	R11,txtXY
	jsr	CrsrRt
	jmp	FullFins

FullLt:	mvb	R1H,txtXY+2
	mvw	R11,txtXY
	jsr	CrsrLt
	jmp	FullFins



RevON:	lda flgREV
	bne	10$
	ldb	flgREV,#$ff
	lda	curColor
	and	#$f0
	lsr	a
	lsr	a
	lsr	a
	lsr	a
	sta	curColor
10$:	rts

RevOFF:	lda flgREV
	beq	10$
	ldb	flgREV,#$00
	lda	curColor
	and	#$0f
	clc
	asl	a
	asl	a
	asl	a
	asl	a
	sta	curColor
10$:	rts

	

SwitchLC:	lda	flgUP
	beq	10$
	ldb	flgUP,#0
	ldw	p2fonTab+1,#LP2FONT
10$:	rts

SwitchUC:	lda	flgUP
	bne	10$
	ldb	flgUP,#$ff
	ldw	p2fonTab+1,#UP2FONT
10$:	rts



ColorROL:	lda	flgREV
	beq	10$
	stx	curColor
	rts
10$:	txa
	asl	a
	asl	a
	asl	a
	asl	a
	sta	curColor
	rts

ColorBK:	ldb	curColor, #0
	rts
ColorWH:	ldx	#1
	jmp	ColorROL
ColorRD:	ldx	#2
	jmp	ColorROL
ColorCY:	ldx	#3
	jmp	ColorROL
ColorPU:	ldx	#4
	jmp	ColorROL
ColorGN:	ldx	#5
	jmp	ColorROL
ColorBL:	ldx	#6
	jmp	ColorROL
ColorYE:	ldx	#7
	jmp	ColorROL
ColorOR:	ldx	#8
	jmp	ColorROL
ColorBN:	ldx	#9
	jmp	ColorROL
ColorPI:	ldx	#10
	jmp	ColorROL
ColorDG:	ldx	#11
	jmp	ColorROL
ColorGR:	ldx	#12
	jmp	ColorROL
ColorLN:	ldx	#13
	jmp	ColorROL
ColorLB:	ldx	#14
	jmp	ColorROL
ColorLG:	ldx	#15
	jmp	ColorROL


.ramsect

</pre></body></html>